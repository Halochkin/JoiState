<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<script type="module">
  import {JoiStore} from "./JoiStore.js";

  const functions = {
    set: function set(a) {
      return a;
    },
    sum: function sum(a, b) {
      return a + b;
    },
    log: function log(c) {
      console.log(c);
    }
  }

  const actions = [
    [[2], 'set', 'a'],             //computer
    [['a', 'b'], 'sum', 'c'],      //computer
    [['c'], 'log'],                //observer
    [[true], 'set', 'output']      //computer todo run all observers last.
  ];

  const store = new JoiStore({}, actions, functions);

  store.reduce('b', 5);
  store.reduce('b', 3);

</script>

</body>
</html>